

#include <iostream>
#include <gtest/gtest.h>
#include <Math3D/Core/Structs/Matrix/Matrix.hpp>
#include <Math3D/Core/Structs/Matrix/Operators.hpp>


using namespace std;
using Mat22 = Matrix<2,2,int>;
using Mat23 = Matrix<2,3,int>;
using Mat24 = Matrix<2,4,int>;
using Mat32 = Matrix<3,2,int>;
using Mat33 = Matrix<3,3,int>;
using Mat34 = Matrix<3,4,int>;
using Mat42 = Matrix<4,2,int>;
using Mat43 = Matrix<4,3,int>;
using Mat44 = Matrix<4,4,int>;
using Mat55 = Matrix<5,5,int>;

TEST(Matrix_MatrixMultiplication, Mat22_x_Mat22)
{
    Mat22 a
    {
        2,3,
        4,5
    };
    Mat22 b
    {
        5,4,
        3,2
    };
    Mat22 e
    {
        19,14,
        35,26
    };

    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _33_x_33)
{
    Mat33 a
    {
        1,2,3,
        4,5,6,
        7,8,9
    };
    Mat33 b
    {
        9,8,7,
        6,5,4,
        3,2,1
    };
    Mat33 e
    {
        30,24,18,
        84,69,54,
        138,114,90
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _44_x_44)
{
    Mat44 a
    {
        1, 2, 3, 4,
        5, 6, 7, 8,
        9, 10,11,12,
        13,14,15,16
    };
    Mat44 b
    {
        16,15,14,13,
        12,11,10, 9,
         8, 7, 6, 5,
         4, 3, 2, 1
    };
    Mat44 e
    {
        80,70,60,50,
        240,214,188, 162,
        400,358,316,274,
        560,502,444,386
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _55_x_55)
{
    Mat55 a
    {
        1, 2, 3, 4, 5,
        5, 4, 3, 2, 1,
        1, 2, 3, 4, 5,
        5, 4, 3, 2, 1,
        1, 2, 3, 4, 5
    };
    Mat55 b
    {
        1, 2, 3, 4, 5,
        5, 4, 3, 2, 1,
        1, 2, 3, 4, 5,
        5, 4, 3, 2, 1,
        1, 2, 3, 4, 5
    };
    Mat55 e
    {
        39, 42, 45, 48, 51,
        39, 42, 45, 48, 51,
        39, 42, 45, 48, 51,
        39, 42, 45, 48, 51,
        39, 42, 45, 48, 51
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _23_x_32)
{
    Mat23 a
    {
        1,2,3,
        4,5,6
    };
    Mat32 b
    {
        1,2,
        3,4,
        5,6
    };
    Mat22 e
    {
        22,28,
        49,64
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _24_x_42)
{
    Mat24 a
    {
        1,2,3,4,
        5,6,7,8
    };
    Mat42 b
    {
        1,2,
        3,4,
        5,6,
        7,8
    };
    Mat22 e
    {
        50,60,
        114,140
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _32_x_23)
{
    Mat32 a
    {
        1,2,
        3,4,
        5,6
    };
    Mat23 b
    {
        1,2,3,
        4,5,6,
    };
    Mat33 e
    {
        9,12,15,
        19,26,33,
        29,40,51
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _34_x_43)
{
    Mat34 a
    {
        1,2,3,4,
        5,6,7,8,
        9,10,11,12
    };
    Mat43 b
    {
        1,2,3,
        4,5,6,
        7,8,9,
        10,11,12
    };
    Mat33 e
    {
        70, 80, 90,
        158, 184, 210,
        246, 288, 330
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _42_x_24)
{
    Mat42 a
    {
        1,2,
        3,4,
        5,6,
        7,8
    };
    Mat24 b
    {
        1,2,3,4,
        5,6,7,8
    };
    Mat44 e
    {
        11, 14, 17, 20,
        23, 30, 37, 44,
        35, 46, 57, 68,
        47, 62, 77, 92
    };
    ASSERT_EQ(a * b, e);
}

/* --------------------------------------------------------------------------------------- */

TEST(Matrix_MatrixMultiplication, _43_x_34)
{
    Mat43 a
    {
        1,2,3,
        4,5,6,
        7,8,9,
        10,11,12
    };
    Mat34 b
    {
        1,2,3,4,
        5,6,7,8,
        9,10,11,12
    };
    Mat44 e
    {
        38, 44, 50, 56,
        83, 98, 113, 128,
        128, 152, 176, 200,
        173, 206, 239, 272
    };
    ASSERT_EQ(a * b, e);
}